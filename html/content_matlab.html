<h2>MATLAB</h2>
<p>
According to the <a href="http://www.mathworks.com/">MATLAB</a>
web page, "MATLAB is a high-level language and
interactive environment that enables
you to perform computationally intensive tasks
faster than with traditional programming languages
such as C, C++, and Fortran."
</p>
<p>
<b>Note.</b>
GNU Octave strives to be "drop-in compatible with many Matlab
scripts", and while the output of the VFGEN MATLAB command is not
regularly tested against Octave, the code generated should work with
little or no changes when run in Octave.  For example, the example
below worked without any changes in Octave 4.4.1.
</p>
<h3>The VFGEN MATLAB Command</h3>
<p>
A set of MATLAB  files are created by the command
<br>
<div class="mypre">$ vfgen matlab vector_field_file.vf</div>
<p>
The following table shows the MATLAB files created by VFGEN
when used in the MATLAB command.  (Replace [name] with the name
given in the vector field file.)  N is the dimension of the system
specified in the vector field file, t is time (a scalar),
x is the N dimensional state vector, and p
is the parameter vector.
<p>
<table class="options">
<tr>
<td>File</td>
<td width="20%">MATLAB Function</td>
<td>Description</td>
</tr>
<tr>
<td>[name]_vf.m</td>
<td>vf = [name]_vf(t,x,p)</td>
<td>The vector field function. This returns an Nx1 column vector.</td>
<tr>
<td>[name]_jac.m</td>
<td>jac = [name]_jac(t,x,p)</td>
<td>The Jacobian function. This returns an NxN matrix.</td>
</tr>
<tr>
<td>[name]_jacp.m</td>
<td>jacp = [name]_jacp(t,x,p)</td>
<td>This function computes the Jacobian with respect to the parameters.
This returns an NxP matrix, where P is the number of parameters.</td>
</tr>
<tr>
<td>[name]_hess.m</td>
<td>hess = [name]_hess(t,x,p)</td>
<td>The Hessian function. This returns an NxNxN matrix.</td>
</tr>
<tr>
<td>[name]_der3.m</td>
<td>der3 = [name]_der3(t,x,p)</td>
<td>The third derivatives of the vector field. This returns an NxNxNxN matrix.</td>
</tr>
<tr>
<td>[name]_evf.m</td>
<td>evf = [name]_evf(t,w,p)</td>
<td>A function that computes the extended vector field
consisting of the original vector field and the variational equations.
This returns a 2N dimensional column vector.
(Note: After implementing this, I added the EVF command to VFGEN.
The EVF command is probably a better alternative, because you can then
use VFGEN to create the Jacobian of the extended vector
field.)</td>
</tr>
<tr>
<td>[name]_[userfunc].m</td>
<td>r = [name]_[userfunc](t,x,p)</td>
<td>Each user function specified in the file results in its own MATLAB function.
The return value is a scalar.</td>
</tr>
</table>
<h4>Options</h4>
<table class="options">
<tr>
<td><b>parstyle</b></td>
<td>
The method by which parameters are passed to the MATLAB
functions generated by VFGEN is controlled by the
<b>parstyle</b> option.
If the option <b>parstyle=list</b> is given, for example like this
<div class="mypre">$ vfgen matlab:parstyle=list vector_field_file.vf</div>
then each parameter is listed explicitly
as an argument of the MATLAB functions.
That is, instead of <b>[name]_vf(t,x,p)</b>, the
vector field function will be
<b>[name]_vf(t,x,param1,param2,...,paramM)</b>.
<br />
<i>Default</i>: <b>parstyle=vector</b>
</tr>
<tr>
<td><b>evf</b></td>
<td>
If the option <b>evf=yes</b> is given, the file named <b>[name]_evf.m</b>
is created.
<br />
<i>Default</i>: <b>evf=no</b>
</td>
</tr>
<tr>
<td><b>func</b></td>
<td>
If the option <b>func=yes</b> is given, a MATLAB function is created for each
user-defined function.
<br />
<i>Default</i>: <b>func=no</b>
</td>
</tr>
<tr>
<td>
<b>demo</b>
</td>
<td>
If the option <b>demo=yes</b> is given, the file <b>[name]_demo.m</b>
is created.  This script will create a window that contains data fields 
in which the parameters and initial conditions may be changed,
and a "Go" button that will generate
a plot of the solution.
<br />
<i>Default</i>: <b>demo=no</b>
</td>
</tr>
</table>
</p>
<h4>Example</h4>
<p>
Here is a sample vector field file: <a href="example_vf/pendulum.vf">pendulum.vf</a>.
<br>
The files created by
<div class="mypre">$ vfgen matlab:demo=yes,func=yes pendulum.vf</div>
<br>
are
<ul>
<li><a href="example_matlab/pendulum_vf.m">pendulum_vf.m</a>
<li><a href="example_matlab/pendulum_jac.m">pendulum_jac.m</a>
<li><a href="example_matlab/pendulum_jacp.m">pendulum_jacp.m</a>
<li><a href="example_matlab/pendulum_hess.m">pendulum_hess.m</a>
<li><a href="example_matlab/pendulum_hessp.m">pendulum_hessp.m</a>
<li><a href="example_matlab/pendulum_der3.m">pendulum_der3.m</a>
<li><a href="example_matlab/pendulum_energy.m">pendulum_energy.m</a>
<li><a href="example_matlab/pendulum_demo.m">pendulum_demo.m</a>
</ul>
Here is a <a href="example_matlab/matlab_demo_screenshot.png">screenshot</a> of the
script <a href="example_matlab/pendulum_demo.m">pendulum_demo.m</a> in action.
